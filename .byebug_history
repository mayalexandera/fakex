c
n
c
n
c
n
updated
n
stock
updated
n
@trade
@user
n
listing.amount
amount
n
amount
amoubt
amoung
c
n
updated
n
seller
c
n
updated
n
trade.num_of_stocks
stock.amount
updated
n
stock
c
n
@listing.seller
@user
n
buyer
n
bought
n
balance
buyer
trade
c
n
trade.listing.seller
trade
trade.seller
buyer
c
n
@user
n
trade.buyer.account_balance
n
trade.total_cost_write
bought
n
bought
buyer.account_balance
buyer
trade
c
@listing.seller.toggle_stock_listing(params[:listing][:stock_id])
@listing
c
@listing
c
n
@listing
n
@listing.seller.toggle_stock_listing(params[:listing][:stock_id])
@listing
c
n
m
trade.num_of_stocks
trade.purchase_price
trade
trade.amount
trade.purchase_price
trade.total_cost_write
bought
bouthg
n
bought
n
buyer.account_balance
balance
n
trade.buyer
trade
q
exit
exigt
self.stocks.find_or_create_by(stock_id: trade.stock_id)
self.stocks
params
trade
stock
c
stock
self.stocks
self
stock
stocks
trade
c
params
c
@listing
listing
params[:listing][:stock_id]
stock_id
c
params
:stock_id
stock_id
c
params
@listing
c
@stocks.nil?
@stocks
c
@listing
c
@trade
c
@listing.total_listing_price
@user.account_balance
@user
@listing
c
n
c
@listings
c
...
@listings
Listing.active_listings
Listing.where(stock_id: @stock.id)
@stock
@listings
c
current_balance
new_balance
c
new_balance
input
attribute
current_balance
c
input
attribute
new_balance
current_balance
c
attribute
new_balance
current_balance
c
input
new_balance
current_balance
c
monetize
current_balance
new_balance
input
c
n
@listing
@kisting
n
@listing
c
@stocks
@stock
@listings
c
@listings
#listings
c
Listing.active_listings
Listing.where(status: 0)
Listing.where(status: active)
Listing.all
@listings
@stock
c
n
@listing
n
@listing
c
@listing
c
n
c
n
nn
n
c
@listing
c
n
c
n
@listing
n
@listing
c
@listings
c
@listing
n
@listing
c
@listings
c
@listing
c
@listings
c
@listings
c
@listings
@stock
c
exit
@stock.active_listings.count
@stock.listings.count
@stock.active_listings
@stock
exit
@user
c
`
user.account_balance + new
new = Money.new(attribute.to_i, "USD")
attribute.to_i
input
user.account_balance
user
current_balance
c
current_user
c
attribute
current_user
current_balance
c
